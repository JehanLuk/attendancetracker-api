@page
@model DashboardModel
@{
    ViewData["Title"] = "Dashboard";
}

<h1>@ViewData["Title"]</h1>
<link rel="stylesheet" href="~/css/dashboard.css" />
<p class="description">Aqui vai o conteúdo do dashboard (valores, gráficos, anotações e justificativas).</p>

<main>
    <h2>Disciplina Atual</h2>
    <div class="cards">
        <div class="card1">TOTAL DE ALUNOS <div id="number">@ViewData["TotalAlunos"]</div></div>
        <div class="card2">PRESENTES <div id="number">@ViewData["ValorPresentes"]</div></div>
        <div class="card3">DISPENSADOS <div id="number">@ViewData["ValorDispensados"]</div></div>
        <div class="card4">FALTANTES <div id="number">@ViewData["ValorFaltas"]</div></div>
        <div class="card5">ALUNOS EXTRAS <div id="number">@ViewData["ValorAlunoExtra"]</div></div>
    </div>

    <!-- Gráfico usando Chart.js -->
    <div class="nomesOrganizacao">
        <h2>Geral</h2>
        <h2 class="disciplinaFiltro">Filtrar por Disciplina</h2>
    </div>

    <div class="grafico-tabela">
        <div class="grafico">
            <canvas id="myChart"></canvas>
        </div>
        <div class="justanoTabela">
            <h3>Anotações e Justificativas</h3>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        const ctx = document.getElementById('myChart');
        new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['ads', 'Disciplina2', 'Disciplina3'],
                datasets: [
                    { label: 'Presenças', data: [@ViewData["TotalAlunos"], 15, 20], backgroundColor: '#50C35D' },
                    { label: 'Dispensos', data: [5, 10, 7], backgroundColor: '#ffd04d' },
                    { label: 'Faltas', data: [@ViewData["ValorFaltas"], 10, 7], backgroundColor: '#bd4646ff' },
                    { label: 'Alunos Extras', data: [2, 3, 1], backgroundColor: '#8750C3' }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false, // permite controlar altura/largura no CSS
                scales: {
                    y: { beginAtZero: true }
                }
            }
        });
    </script>
</main>
